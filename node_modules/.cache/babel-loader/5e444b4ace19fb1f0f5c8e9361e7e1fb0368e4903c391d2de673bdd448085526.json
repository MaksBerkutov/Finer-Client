{"ast":null,"code":"import React from'react';import classes from'./PlayeList.module.css';import PlayedItem from'./PlayedItem/PlayedItem';import{TransitionGroup,CSSTransition}from'react-transition-group';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const PlayedList=_ref=>{let{currentPlayed,items,remove,play,onImport}=_ref;const exportPlaylist=()=>{const jsonData=JSON.stringify(items);const blob=new Blob([jsonData],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='Playlist.json';document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};const handleFileChange=e=>{const file=e.target.files[0];if(file){const reader=new FileReader();reader.onload=event=>{try{const fileContent=event.target.result;const parsedData=JSON.parse(fileContent);onImport(parsedData);}catch(error){console.error('Error parsing JSON:',error);}};reader.readAsText(file);}};console.log(items);return/*#__PURE__*/_jsxs(\"div\",{className:classes.playlistContainer,children:[/*#__PURE__*/_jsx(\"ul\",{className:classes.playlist,children:/*#__PURE__*/_jsx(TransitionGroup,{children:items.map(item=>/*#__PURE__*/_jsx(CSSTransition,{timeout:500,classNames:\"post\",children:/*#__PURE__*/_jsx(PlayedItem,{index:item.id,playlistItem:item,currentPlayed:currentPlayed,remove:remove,play:play})},item.id))})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>exportPlaylist(),children:\"Export Playlist\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.getElementById('fileInput').click(),children:\"Import Playlist\"}),/*#__PURE__*/_jsx(\"input\",{id:\"fileInput\",type:\"file\",style:{display:'none'},onChange:handleFileChange})]})]});};export default PlayedList;","map":{"version":3,"names":["React","classes","PlayedItem","TransitionGroup","CSSTransition","jsx","_jsx","jsxs","_jsxs","PlayedList","_ref","currentPlayed","items","remove","play","onImport","exportPlaylist","jsonData","JSON","stringify","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleFileChange","e","file","target","files","reader","FileReader","onload","event","fileContent","result","parsedData","parse","error","console","readAsText","log","className","playlistContainer","children","playlist","map","item","timeout","classNames","index","id","playlistItem","onClick","getElementById","style","display","onChange"],"sources":["/home/maksb/Загрузки/170km/frontend/src/pages/MusicPage/PlayedList/PlayedList.jsx"],"sourcesContent":["import React from 'react'\nimport classes from './PlayeList.module.css'\nimport PlayedItem from './PlayedItem/PlayedItem'\nimport { TransitionGroup, CSSTransition } from 'react-transition-group'\n\nconst PlayedList = ({ currentPlayed, items, remove, play, onImport }) => {\n\tconst exportPlaylist = () => {\n\t\tconst jsonData = JSON.stringify(items)\n\n\t\tconst blob = new Blob([jsonData], { type: 'application/json' })\n\t\tconst url = URL.createObjectURL(blob)\n\n\t\tconst a = document.createElement('a')\n\t\ta.href = url\n\t\ta.download = 'Playlist.json'\n\t\tdocument.body.appendChild(a)\n\t\ta.click()\n\t\tdocument.body.removeChild(a)\n\t\tURL.revokeObjectURL(url)\n\t}\n\tconst handleFileChange = e => {\n\t\tconst file = e.target.files[0]\n\t\tif (file) {\n\t\t\tconst reader = new FileReader()\n\n\t\t\treader.onload = event => {\n\t\t\t\ttry {\n\t\t\t\t\tconst fileContent = event.target.result\n\t\t\t\t\tconst parsedData = JSON.parse(fileContent)\n\t\t\t\t\tonImport(parsedData)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Error parsing JSON:', error)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treader.readAsText(file)\n\t\t}\n\t}\n\tconsole.log(items)\n\treturn (\n\t\t<div className={classes.playlistContainer}>\n\t\t\t<ul className={classes.playlist}>\n\t\t\t\t<TransitionGroup>\n\t\t\t\t\t{items.map(item => (\n\t\t\t\t\t\t<CSSTransition key={item.id} timeout={500} classNames='post'>\n\t\t\t\t\t\t\t<PlayedItem\n\t\t\t\t\t\t\t\tindex={item.id}\n\t\t\t\t\t\t\t\tplaylistItem={item}\n\t\t\t\t\t\t\t\tcurrentPlayed={currentPlayed}\n\t\t\t\t\t\t\t\tremove={remove}\n\t\t\t\t\t\t\t\tplay={play}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</CSSTransition>\n\t\t\t\t\t))}\n\t\t\t\t</TransitionGroup>\n\t\t\t</ul>\n\t\t\t<div>\n\t\t\t\t<button onClick={() => exportPlaylist()}>Export Playlist</button>\n\t\t\t\t<button onClick={() => document.getElementById('fileInput').click()}>\n\t\t\t\t\tImport Playlist\n\t\t\t\t</button>\n\t\t\t\t<input\n\t\t\t\t\tid='fileInput'\n\t\t\t\t\ttype='file'\n\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\tonChange={handleFileChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default PlayedList\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}