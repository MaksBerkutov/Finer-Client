{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { getUserData } from '@util/Auntification.js';\nexport const useAuntification = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [ListServers, setListServers] = useState(undefined);\n  const [User, setUser] = useState(undefined);\n  const authenticateUser = userData => {\n    localStorage.setItem('userData', JSON.stringify(userData));\n  };\n  useEffect(() => {\n    const locationState = location.state;\n    const storedUserData = getUserData();\n    console.log(locationState);\n    console.log(storedUserData);\n    if (locationState !== null) {\n      setListServers(locationState.Servers || []);\n      setUser(locationState.User || undefined);\n      authenticateUser({\n        User: locationState.User,\n        ListServers: locationState.Servers\n      });\n      console.log(User);\n    } else if ((storedUserData === null || storedUserData === void 0 ? void 0 : storedUserData.User) !== undefined) {\n      setListServers(storedUserData.ListServers);\n      setUser(storedUserData.User);\n      console.log(User);\n    } else {\n      navigate('/');\n    }\n  }, []);\n  return [ListServers, User];\n};\n_s(useAuntification, \"L6RpsT2IkofVxpmznVPvbimJ+HQ=\", false, function () {\n  return [useNavigate, useLocation];\n});","map":{"version":3,"names":["useEffect","useState","useLocation","useNavigate","getUserData","useAuntification","_s","navigate","location","ListServers","setListServers","undefined","User","setUser","authenticateUser","userData","localStorage","setItem","JSON","stringify","locationState","state","storedUserData","console","log","Servers"],"sources":["/home/maksb/Загрузки/170km/frontend/src/hooks/useAuntification.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { getUserData } from '@util/Auntification.js'\n\nexport const useAuntification = () => {\n\tconst navigate = useNavigate()\n\tconst location = useLocation()\n\tconst [ListServers, setListServers] = useState(undefined)\n\tconst [User, setUser] = useState(undefined)\n\tconst authenticateUser = userData => {\n\t\tlocalStorage.setItem('userData', JSON.stringify(userData))\n\t}\n\n\tuseEffect(() => {\n\t\tconst locationState = location.state\n\t\tconst storedUserData = getUserData()\n\t\tconsole.log(locationState)\n\t\tconsole.log(storedUserData)\n\t\tif (locationState !== null) {\n\t\t\tsetListServers(locationState.Servers || [])\n\t\t\tsetUser(locationState.User || undefined)\n\t\t\tauthenticateUser({\n\t\t\t\tUser: locationState.User,\n\t\t\t\tListServers: locationState.Servers,\n\t\t\t})\n\t\t\tconsole.log(User)\n\t\t} else if (storedUserData?.User !== undefined) {\n\t\t\tsetListServers(storedUserData.ListServers)\n\t\t\tsetUser(storedUserData.User)\n\t\t\tconsole.log(User)\n\t\t} else {\n\t\t\tnavigate('/')\n\t\t}\n\t}, [])\n\n\treturn [ListServers, User]\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,WAAW,QAAQ,wBAAwB;AAEpD,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrC,MAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAC9B,MAAMK,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAACU,SAAS,CAAC;EACzD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAACU,SAAS,CAAC;EAC3C,MAAMG,gBAAgB,GAAGC,QAAQ,IAAI;IACpCC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;EAC3D,CAAC;EAEDf,SAAS,CAAC,MAAM;IACf,MAAMoB,aAAa,GAAGZ,QAAQ,CAACa,KAAK;IACpC,MAAMC,cAAc,GAAGlB,WAAW,CAAC,CAAC;IACpCmB,OAAO,CAACC,GAAG,CAACJ,aAAa,CAAC;IAC1BG,OAAO,CAACC,GAAG,CAACF,cAAc,CAAC;IAC3B,IAAIF,aAAa,KAAK,IAAI,EAAE;MAC3BV,cAAc,CAACU,aAAa,CAACK,OAAO,IAAI,EAAE,CAAC;MAC3CZ,OAAO,CAACO,aAAa,CAACR,IAAI,IAAID,SAAS,CAAC;MACxCG,gBAAgB,CAAC;QAChBF,IAAI,EAAEQ,aAAa,CAACR,IAAI;QACxBH,WAAW,EAAEW,aAAa,CAACK;MAC5B,CAAC,CAAC;MACFF,OAAO,CAACC,GAAG,CAACZ,IAAI,CAAC;IAClB,CAAC,MAAM,IAAI,CAAAU,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEV,IAAI,MAAKD,SAAS,EAAE;MAC9CD,cAAc,CAACY,cAAc,CAACb,WAAW,CAAC;MAC1CI,OAAO,CAACS,cAAc,CAACV,IAAI,CAAC;MAC5BW,OAAO,CAACC,GAAG,CAACZ,IAAI,CAAC;IAClB,CAAC,MAAM;MACNL,QAAQ,CAAC,GAAG,CAAC;IACd;EACD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACE,WAAW,EAAEG,IAAI,CAAC;AAC3B,CAAC;AAAAN,EAAA,CAhCYD,gBAAgB;EAAA,QACXF,WAAW,EACXD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}