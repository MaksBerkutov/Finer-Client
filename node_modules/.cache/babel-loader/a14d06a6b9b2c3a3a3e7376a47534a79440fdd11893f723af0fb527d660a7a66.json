{"ast":null,"code":"import{useEffect,useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{getUserData}from'@util/Auntification.js';export const useAuntification=()=>{const navigate=useNavigate();const location=useLocation();const[ListServers,setListServers]=useState(undefined);const[User,setUser]=useState(undefined);const authenticateUser=userData=>{localStorage.setItem('userData',JSON.stringify(userData));};useEffect(()=>{const locationState=location.state;const storedUserData=getUserData();console.log(locationState);console.log(storedUserData);if(locationState!==null&&locationState!==null&&locationState!==void 0&&locationState.User){setListServers(locationState.Servers||[]);setUser(locationState.User||undefined);authenticateUser({User:locationState.User,Servers:locationState.Servers});console.log(User);}else if(storedUserData!==null){setListServers(storedUserData.Servers);setUser(storedUserData.User);console.log(User);}else{navigate('/');}},[]);return[ListServers,User];};","map":{"version":3,"names":["useEffect","useState","useLocation","useNavigate","getUserData","useAuntification","navigate","location","ListServers","setListServers","undefined","User","setUser","authenticateUser","userData","localStorage","setItem","JSON","stringify","locationState","state","storedUserData","console","log","Servers"],"sources":["/home/maksb/Загрузки/170km/frontend/src/hooks/useAuntification.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { getUserData } from '@util/Auntification.js'\n\nexport const useAuntification = () => {\n\tconst navigate = useNavigate()\n\tconst location = useLocation()\n\tconst [ListServers, setListServers] = useState(undefined)\n\tconst [User, setUser] = useState(undefined)\n\tconst authenticateUser = userData => {\n\t\tlocalStorage.setItem('userData', JSON.stringify(userData))\n\t}\n\n\tuseEffect(() => {\n\t\tconst locationState = location.state\n\t\tconst storedUserData = getUserData()\n\t\tconsole.log(locationState)\n\t\tconsole.log(storedUserData)\n\t\tif (locationState !== null && locationState?.User) {\n\t\t\tsetListServers(locationState.Servers || [])\n\t\t\tsetUser(locationState.User || undefined)\n\t\t\tauthenticateUser({\n\t\t\t\tUser: locationState.User,\n\t\t\t\tServers: locationState.Servers,\n\t\t\t})\n\t\t\tconsole.log(User)\n\t\t} else if (storedUserData !== null) {\n\t\t\tsetListServers(storedUserData.Servers)\n\t\t\tsetUser(storedUserData.User)\n\t\t\tconsole.log(User)\n\t\t} else {\n\t\t\tnavigate('/')\n\t\t}\n\t}, [])\n\n\treturn [ListServers, User]\n}\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,WAAW,KAAQ,wBAAwB,CAEpD,MAAO,MAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CACrC,KAAM,CAAAC,QAAQ,CAAGH,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAI,QAAQ,CAAGL,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACM,WAAW,CAAEC,cAAc,CAAC,CAAGR,QAAQ,CAACS,SAAS,CAAC,CACzD,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAACS,SAAS,CAAC,CAC3C,KAAM,CAAAG,gBAAgB,CAAGC,QAAQ,EAAI,CACpCC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC,CAC3D,CAAC,CAEDd,SAAS,CAAC,IAAM,CACf,KAAM,CAAAmB,aAAa,CAAGZ,QAAQ,CAACa,KAAK,CACpC,KAAM,CAAAC,cAAc,CAAGjB,WAAW,CAAC,CAAC,CACpCkB,OAAO,CAACC,GAAG,CAACJ,aAAa,CAAC,CAC1BG,OAAO,CAACC,GAAG,CAACF,cAAc,CAAC,CAC3B,GAAIF,aAAa,GAAK,IAAI,EAAIA,aAAa,SAAbA,aAAa,WAAbA,aAAa,CAAER,IAAI,CAAE,CAClDF,cAAc,CAACU,aAAa,CAACK,OAAO,EAAI,EAAE,CAAC,CAC3CZ,OAAO,CAACO,aAAa,CAACR,IAAI,EAAID,SAAS,CAAC,CACxCG,gBAAgB,CAAC,CAChBF,IAAI,CAAEQ,aAAa,CAACR,IAAI,CACxBa,OAAO,CAAEL,aAAa,CAACK,OACxB,CAAC,CAAC,CACFF,OAAO,CAACC,GAAG,CAACZ,IAAI,CAAC,CAClB,CAAC,IAAM,IAAIU,cAAc,GAAK,IAAI,CAAE,CACnCZ,cAAc,CAACY,cAAc,CAACG,OAAO,CAAC,CACtCZ,OAAO,CAACS,cAAc,CAACV,IAAI,CAAC,CAC5BW,OAAO,CAACC,GAAG,CAACZ,IAAI,CAAC,CAClB,CAAC,IAAM,CACNL,QAAQ,CAAC,GAAG,CAAC,CACd,CACD,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAACE,WAAW,CAAEG,IAAI,CAAC,CAC3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}