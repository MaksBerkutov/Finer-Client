{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nconst getUserData = navigate => {\n  const storedUserData = localStorage.getItem('userData');\n  if (storedUserData !== undefined) return storedUserData ? JSON.parse(storedUserData) : null;\n};\nexport const useAuntification = () => {\n  _s();\n  const location = useLocation();\n  const [ListServers, setListServers] = useState(undefined);\n  const [User, setUser] = useState(undefined);\n  const authenticateUser = userData => {\n    localStorage.setItem('userData', JSON.stringify(userData));\n  };\n  useEffect(() => {\n    const locationState = location.state;\n    const storedUserData = getUserData();\n    if (locationState !== null) {\n      setListServers(locationState.list || []);\n      setUser(locationState.user || undefined);\n      authenticateUser({\n        User: locationState.user,\n        ListServers: locationState.list\n      });\n    } else if ((storedUserData === null || storedUserData === void 0 ? void 0 : storedUserData.User) !== undefined) {\n      setListServers(storedUserData.ListServers);\n      setUser(storedUserData.User);\n      console.log(User);\n    } else {\n      navigate('/');\n    }\n  }, []);\n  return [ListServers, User];\n};\n_s(useAuntification, \"tB6uIMPnY3wSxgFZf4vY/q343Bo=\", false, function () {\n  return [useLocation];\n});","map":{"version":3,"names":["useEffect","useState","useLocation","useNavigate","getUserData","navigate","storedUserData","localStorage","getItem","undefined","JSON","parse","useAuntification","_s","location","ListServers","setListServers","User","setUser","authenticateUser","userData","setItem","stringify","locationState","state","list","user","console","log"],"sources":["/home/maksb/Загрузки/170km/frontend/src/hooks/useAuntification.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\n\nconst getUserData = navigate => {\n\tconst storedUserData = localStorage.getItem('userData')\n\tif (storedUserData !== undefined)\n\t\treturn storedUserData ? JSON.parse(storedUserData) : null\n}\nexport const useAuntification = () => {\n\tconst location = useLocation()\n\tconst [ListServers, setListServers] = useState(undefined)\n\tconst [User, setUser] = useState(undefined)\n\tconst authenticateUser = userData => {\n\t\tlocalStorage.setItem('userData', JSON.stringify(userData))\n\t}\n\n\tuseEffect(() => {\n\t\tconst locationState = location.state\n\t\tconst storedUserData = getUserData()\n\t\tif (locationState !== null) {\n\t\t\tsetListServers(locationState.list || [])\n\t\t\tsetUser(locationState.user || undefined)\n\t\t\tauthenticateUser({\n\t\t\t\tUser: locationState.user,\n\t\t\t\tListServers: locationState.list,\n\t\t\t})\n\t\t} else if (storedUserData?.User !== undefined) {\n\t\t\tsetListServers(storedUserData.ListServers)\n\t\t\tsetUser(storedUserData.User)\n\t\t\tconsole.log(User)\n\t\t} else {\n\t\t\tnavigate('/')\n\t\t}\n\t}, [])\n\n\treturn [ListServers, User]\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAE3D,MAAMC,WAAW,GAAGC,QAAQ,IAAI;EAC/B,MAAMC,cAAc,GAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EACvD,IAAIF,cAAc,KAAKG,SAAS,EAC/B,OAAOH,cAAc,GAAGI,IAAI,CAACC,KAAK,CAACL,cAAc,CAAC,GAAG,IAAI;AAC3D,CAAC;AACD,OAAO,MAAMM,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrC,MAAMC,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAACQ,SAAS,CAAC;EACzD,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGjB,QAAQ,CAACQ,SAAS,CAAC;EAC3C,MAAMU,gBAAgB,GAAGC,QAAQ,IAAI;IACpCb,YAAY,CAACc,OAAO,CAAC,UAAU,EAAEX,IAAI,CAACY,SAAS,CAACF,QAAQ,CAAC,CAAC;EAC3D,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACf,MAAMuB,aAAa,GAAGT,QAAQ,CAACU,KAAK;IACpC,MAAMlB,cAAc,GAAGF,WAAW,CAAC,CAAC;IACpC,IAAImB,aAAa,KAAK,IAAI,EAAE;MAC3BP,cAAc,CAACO,aAAa,CAACE,IAAI,IAAI,EAAE,CAAC;MACxCP,OAAO,CAACK,aAAa,CAACG,IAAI,IAAIjB,SAAS,CAAC;MACxCU,gBAAgB,CAAC;QAChBF,IAAI,EAAEM,aAAa,CAACG,IAAI;QACxBX,WAAW,EAAEQ,aAAa,CAACE;MAC5B,CAAC,CAAC;IACH,CAAC,MAAM,IAAI,CAAAnB,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEW,IAAI,MAAKR,SAAS,EAAE;MAC9CO,cAAc,CAACV,cAAc,CAACS,WAAW,CAAC;MAC1CG,OAAO,CAACZ,cAAc,CAACW,IAAI,CAAC;MAC5BU,OAAO,CAACC,GAAG,CAACX,IAAI,CAAC;IAClB,CAAC,MAAM;MACNZ,QAAQ,CAAC,GAAG,CAAC;IACd;EACD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACU,WAAW,EAAEE,IAAI,CAAC;AAC3B,CAAC;AAAAJ,EAAA,CA5BYD,gBAAgB;EAAA,QACXV,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}