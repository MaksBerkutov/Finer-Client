{"ast":null,"code":"import{useState}from'react';import{useNavigate,Outlet,Link}from'react-router-dom';import classes from'./MainPage.module.css';import TopMenu from'@component/TopMenu/TopMenu';import logo from'@image/logo.png';import Menu from'@component/Menu/Menu';import{useAuntification}from'@hook/useAuntification';import MenuCenter from'./ItemMenuCenter.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const MainPage=()=>{const[selectedId,setId]=useState(-1);const navigate=useNavigate();const[ListServers,User]=useAuntification();const handleItemClick=selectedItem=>{setId(selectedItem.id);};const ItemMenuCenter=MenuCenter(ListServers,User,selectedId);const LogoItem=/*#__PURE__*/_jsxs(Link,{className:\"navbar-brand\",to:\"/\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:classes.logo,alt:\"site logo\"}),\"Finer\"]});const ItemMenuLastItem=[{text:'Logout',to:'/',callback:e=>{e.preventDefault();localStorage.removeItem('userData');navigate('/');}}];const PATH_TO_IMG=\"https://cdn.discordapp.com/avatars/\".concat(User===null||User===void 0?void 0:User.id,\"/\").concat(User===null||User===void 0?void 0:User.avatar,\".png\");const LastItemMenu=/*#__PURE__*/_jsx(Link,{className:\"nav-link\",state:{User:User,Servers:ListServers},to:\"/menu/me\",children:/*#__PURE__*/_jsx(\"img\",{src:PATH_TO_IMG,alt:\"user avatar\",className:classes.avatar})});return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[User!==undefined&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TopMenu,{NavigationItemCenter:ItemMenuCenter,LogoItem:LogoItem,RightItemMenu:ItemMenuLastItem,LastItemMenu:LastItemMenu}),/*#__PURE__*/_jsx(Menu,{items:ListServers.filter(server=>server.botMember),onItemClick:handleItemClick})]}),/*#__PURE__*/_jsx(Outlet,{})]});};export default MainPage;","map":{"version":3,"names":["useState","useNavigate","Outlet","Link","classes","TopMenu","logo","Menu","useAuntification","MenuCenter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MainPage","selectedId","setId","navigate","ListServers","User","handleItemClick","selectedItem","id","ItemMenuCenter","LogoItem","className","to","children","src","alt","ItemMenuLastItem","text","callback","e","preventDefault","localStorage","removeItem","PATH_TO_IMG","concat","avatar","LastItemMenu","state","Servers","container","undefined","NavigationItemCenter","RightItemMenu","items","filter","server","botMember","onItemClick"],"sources":["/home/maksb/Загрузки/170km/frontend/src/pages/MainPage/MainPage.jsx"],"sourcesContent":["import { useState } from 'react'\nimport { useNavigate, Outlet, Link } from 'react-router-dom'\nimport classes from './MainPage.module.css'\nimport TopMenu from '@component/TopMenu/TopMenu'\nimport logo from '@image/logo.png'\nimport Menu from '@component/Menu/Menu'\nimport { useAuntification } from '@hook/useAuntification'\nimport MenuCenter from './ItemMenuCenter.js'\n\nconst MainPage = () => {\n\tconst [selectedId, setId] = useState(-1)\n\tconst navigate = useNavigate()\n\tconst [ListServers, User] = useAuntification()\n\n\tconst handleItemClick = selectedItem => {\n\t\tsetId(selectedItem.id)\n\t}\n\n\tconst ItemMenuCenter = MenuCenter(ListServers, User, selectedId)\n\tconst LogoItem = (\n\t\t<Link className='navbar-brand' to='/'>\n\t\t\t<img src={logo} className={classes.logo} alt='site logo'></img>\n\t\t\tFiner\n\t\t</Link>\n\t)\n\tconst ItemMenuLastItem = [\n\t\t{\n\t\t\ttext: 'Logout',\n\t\t\tto: '/',\n\t\t\tcallback: e => {\n\t\t\t\te.preventDefault()\n\t\t\t\tlocalStorage.removeItem('userData')\n\t\t\t\tnavigate('/')\n\t\t\t},\n\t\t},\n\t]\n\tconst PATH_TO_IMG = `https://cdn.discordapp.com/avatars/${User?.id}/${User?.avatar}.png`\n\tconst LastItemMenu = (\n\t\t<Link\n\t\t\tclassName='nav-link'\n\t\t\tstate={{ User: User, Servers: ListServers }}\n\t\t\tto='/menu/me'\n\t\t>\n\t\t\t<img src={PATH_TO_IMG} alt='user avatar' className={classes.avatar} />\n\t\t</Link>\n\t)\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t{User !== undefined && (\n\t\t\t\t<>\n\t\t\t\t\t<TopMenu\n\t\t\t\t\t\tNavigationItemCenter={ItemMenuCenter}\n\t\t\t\t\t\tLogoItem={LogoItem}\n\t\t\t\t\t\tRightItemMenu={ItemMenuLastItem}\n\t\t\t\t\t\tLastItemMenu={LastItemMenu}\n\t\t\t\t\t/>\n\t\t\t\t\t<Menu\n\t\t\t\t\t\titems={ListServers.filter(server => server.botMember)}\n\t\t\t\t\t\tonItemClick={handleItemClick}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<Outlet />\n\t\t</div>\n\t)\n}\n\nexport default MainPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}