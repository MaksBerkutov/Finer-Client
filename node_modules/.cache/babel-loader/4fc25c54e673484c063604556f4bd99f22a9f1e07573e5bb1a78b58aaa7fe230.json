{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { getUserData, isUserAuthenticated } from '@util/Auntification.js';\nexport const useAuntification = () => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [ListServers, setListServers] = useState(undefined);\n  const [User, setUser] = useState(undefined);\n  const authenticateUser = userData => {\n    localStorage.setItem('userData', JSON.stringify(userData));\n  };\n  useEffect(() => {\n    const locationState = location.state;\n    const storedUserData = getUserData();\n    if (locationState !== null) {\n      setListServers(locationState.list || []);\n      setUser(locationState.user || undefined);\n      authenticateUser({\n        User: locationState.user,\n        ListServers: locationState.list\n      });\n    } else if ((storedUserData === null || storedUserData === void 0 ? void 0 : storedUserData.User) !== undefined) {\n      setListServers(storedUserData.ListServers);\n      setUser(storedUserData.User);\n      console.log(User);\n    } else {\n      navigate('/');\n    }\n  }, []);\n  return [ListServers, User];\n};\n_s(useAuntification, \"L6RpsT2IkofVxpmznVPvbimJ+HQ=\", false, function () {\n  return [useNavigate, useLocation];\n});","map":{"version":3,"names":["useEffect","useState","useLocation","useNavigate","getUserData","isUserAuthenticated","useAuntification","_s","navigate","location","ListServers","setListServers","undefined","User","setUser","authenticateUser","userData","localStorage","setItem","JSON","stringify","locationState","state","storedUserData","list","user","console","log"],"sources":["/home/maksb/Загрузки/170km/frontend/src/hooks/useAuntification.js"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { getUserData, isUserAuthenticated } from '@util/Auntification.js'\n\n\nexport const useAuntification = () => {\n\tconst navigate = useNavigate()\n\tconst location = useLocation()\n\tconst [ListServers, setListServers] = useState(undefined)\n\tconst [User, setUser] = useState(undefined)\n\tconst authenticateUser = userData => {\n\t\tlocalStorage.setItem('userData', JSON.stringify(userData))\n\t}\n\n\tuseEffect(() => {\n\t\tconst locationState = location.state\n\t\tconst storedUserData = getUserData()\n\t\tif (locationState !== null) {\n\t\t\tsetListServers(locationState.list || [])\n\t\t\tsetUser(locationState.user || undefined)\n\t\t\tauthenticateUser({\n\t\t\t\tUser: locationState.user,\n\t\t\t\tListServers: locationState.list,\n\t\t\t})\n\t\t} else if (storedUserData?.User !== undefined) {\n\t\t\tsetListServers(storedUserData.ListServers)\n\t\t\tsetUser(storedUserData.User)\n\t\t\tconsole.log(User)\n\t\t} else {\n\t\t\tnavigate('/')\n\t\t}\n\t}, [])\n\n\treturn [ListServers, User]\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,WAAW,EAAEC,mBAAmB,QAAQ,wBAAwB;AAGzE,OAAO,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrC,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAMM,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAACW,SAAS,CAAC;EACzD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAACW,SAAS,CAAC;EAC3C,MAAMG,gBAAgB,GAAGC,QAAQ,IAAI;IACpCC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;EAC3D,CAAC;EAEDhB,SAAS,CAAC,MAAM;IACf,MAAMqB,aAAa,GAAGZ,QAAQ,CAACa,KAAK;IACpC,MAAMC,cAAc,GAAGnB,WAAW,CAAC,CAAC;IACpC,IAAIiB,aAAa,KAAK,IAAI,EAAE;MAC3BV,cAAc,CAACU,aAAa,CAACG,IAAI,IAAI,EAAE,CAAC;MACxCV,OAAO,CAACO,aAAa,CAACI,IAAI,IAAIb,SAAS,CAAC;MACxCG,gBAAgB,CAAC;QAChBF,IAAI,EAAEQ,aAAa,CAACI,IAAI;QACxBf,WAAW,EAAEW,aAAa,CAACG;MAC5B,CAAC,CAAC;IACH,CAAC,MAAM,IAAI,CAAAD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEV,IAAI,MAAKD,SAAS,EAAE;MAC9CD,cAAc,CAACY,cAAc,CAACb,WAAW,CAAC;MAC1CI,OAAO,CAACS,cAAc,CAACV,IAAI,CAAC;MAC5Ba,OAAO,CAACC,GAAG,CAACd,IAAI,CAAC;IAClB,CAAC,MAAM;MACNL,QAAQ,CAAC,GAAG,CAAC;IACd;EACD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO,CAACE,WAAW,EAAEG,IAAI,CAAC;AAC3B,CAAC;AAAAN,EAAA,CA7BYD,gBAAgB;EAAA,QACXH,WAAW,EACXD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}