{"ast":null,"code":"import classes from'./Music.module.css';import React from'react';import PlayedList from'./PlayedList/PlayedList';import{Routes,useLocation}from'react-router-dom';import MusicPlayer from'./MusicPlayer/MusicPlayer';import io from'socket.io-client';import{usePlaylist}from'@hook/usePlaylist';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:3004');function Music(){const location=useLocation();const idServer=location.state.idServer||undefined;const idUser=location.state.idUser||undefined;const[playedStatus,plalistInfo]=usePlaylist(socket,idServer,idUser);const play=item=>{console.log(item);socket===null||socket===void 0?void 0:socket.emit('setPlayItem',{id:idServer,item:item});};const remove=item=>{socket===null||socket===void 0?void 0:socket.emit('deltetePlayItem',{id:idServer,item:item});};const handlerImport=obj=>{socket===null||socket===void 0?void 0:socket.emit('importedPlaylist',{id:idServer,obj:obj});};const finded=plalistInfo.songs.find(x=>x.id===plalistInfo.currentPlayed);const text=finded===undefined?'':finded.title;return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.info,children:[text===''?/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0435 \\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u0438\\u0433\\u0440\\u0430\\u0435\\u0442 =)\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:text}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u041F\\u0435\\u0441\\u043D\\u044E \\u0443\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u043B: \",finded.сustomer]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0421\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043F\\u0435\\u0441\\u043D\\u044E: \",finded.url]})]}),/*#__PURE__*/_jsx(MusicPlayer,{playedStatus:playedStatus,id:idServer,text:text,socket:socket})]}),plalistInfo.songs.length===0?/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041D\\u0435\\u0442 \\u0430\\u0443\\u0434\\u0438\\u043E \\u0434\\u043B\\u044F \\u043F\\u0440\\u043E\\u0438\\u0433\\u0440\\u044B\\u0432\\u0430\\u043D\\u043D\\u0438\\u044F\"}):/*#__PURE__*/_jsx(PlayedList,{remove:remove,play:play,onImport:handlerImport,currentPlayed:plalistInfo.currentPlayed,items:plalistInfo.songs})]});}export default Music;","map":{"version":3,"names":["classes","React","PlayedList","Routes","useLocation","MusicPlayer","io","usePlaylist","jsx","_jsx","jsxs","_jsxs","socket","Music","location","idServer","state","undefined","idUser","playedStatus","plalistInfo","play","item","console","log","emit","id","remove","handlerImport","obj","finded","songs","find","x","currentPlayed","text","title","className","container","children","info","сustomer","url","length","onImport","items"],"sources":["/home/maksb/Загрузки/170km/frontend/src/pages/MusicPage/Music.jsx"],"sourcesContent":["import classes from './Music.module.css'\nimport React from 'react'\nimport PlayedList from './PlayedList/PlayedList'\nimport { Routes, useLocation } from 'react-router-dom'\n\nimport MusicPlayer from './MusicPlayer/MusicPlayer'\nimport io from 'socket.io-client'\nimport { usePlaylist } from '@hook/usePlaylist'\nconst socket = io('http://localhost:3004')\nfunction Music() {\n\tconst location = useLocation()\n\n\tconst idServer = location.state.idServer || undefined\n\tconst idUser = location.state.idUser || undefined\n\tconst [playedStatus, plalistInfo] = usePlaylist(socket, idServer, idUser)\n\n\tconst play = item => {\n\t\tconsole.log(item)\n\t\tsocket?.emit('setPlayItem', { id: idServer, item: item })\n\t}\n\tconst remove = item => {\n\t\tsocket?.emit('deltetePlayItem', { id: idServer, item: item })\n\t}\n\tconst handlerImport = obj => {\n\t\tsocket?.emit('importedPlaylist', { id: idServer, obj: obj })\n\t}\n\tconst finded = plalistInfo.songs.find(x => x.id === plalistInfo.currentPlayed)\n\tconst text = finded === undefined ? '' : finded.title\n\n\treturn (\n\t\t<div className={classes.container}>\n\t\t\t<div className={classes.info}>\n\t\t\t\t{text === '' ? (\n\t\t\t\t\t<h1>Не чего не играет =)</h1>\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1>{text}</h1>\n\t\t\t\t\t\t<p>Песню установил: {finded.сustomer}</p>\n\t\t\t\t\t\t<p>Сылка на песню: {finded.url}</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<MusicPlayer\n\t\t\t\t\tplayedStatus={playedStatus}\n\t\t\t\t\tid={idServer}\n\t\t\t\t\ttext={text}\n\t\t\t\t\tsocket={socket}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{plalistInfo.songs.length === 0 ? (\n\t\t\t\t<h1>Нет аудио для проигрыванния</h1>\n\t\t\t) : (\n\t\t\t\t<PlayedList\n\t\t\t\t\tremove={remove}\n\t\t\t\t\tplay={play}\n\t\t\t\t\tonImport={handlerImport}\n\t\t\t\t\tcurrentPlayed={plalistInfo.currentPlayed}\n\t\t\t\t\titems={plalistInfo.songs}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Music\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}