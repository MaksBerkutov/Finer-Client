{"ast":null,"code":"import{useEffect}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const AuntifactionPageCallback=()=>{const navigate=useNavigate();useEffect(()=>{const authorizationCode=new URLSearchParams(window.location.search).get('code');const fetch=async authorizationCode=>{axios.interceptors.response.use(response=>response,error=>{console.error('Axios Error:',error);return Promise.reject(error);});const response=await axios.get('http://localhost:3003/api/data',{params:{authorizationCode:authorizationCode,redirectUrl:'http://localhost:3000/auntification'}});navigate('/menu',{state:response.data});};if(authorizationCode){fetch(authorizationCode);}else{navigate('/error');}},[navigate]);return/*#__PURE__*/_jsx(\"div\",{});};export default AuntifactionPageCallback;","map":{"version":3,"names":["useEffect","useNavigate","axios","jsx","_jsx","AuntifactionPageCallback","navigate","authorizationCode","URLSearchParams","window","location","search","get","fetch","interceptors","response","use","error","console","Promise","reject","params","redirectUrl","state","data"],"sources":["/home/maksb/Загрузки/170km/frontend/src/pages/Auntification/AuntifactionPageCallback.jsx"],"sourcesContent":["import { useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport axios from 'axios'\n\nconst AuntifactionPageCallback = () => {\n\tconst navigate = useNavigate()\n\tuseEffect(() => {\n\t\tconst authorizationCode = new URLSearchParams(window.location.search).get(\n\t\t\t'code'\n\t\t)\n\n\t\tconst fetch = async authorizationCode => {\n\t\t\taxios.interceptors.response.use(\n\t\t\t\tresponse => response,\n\t\t\t\terror => {\n\t\t\t\t\tconsole.error('Axios Error:', error)\n\t\t\t\t\treturn Promise.reject(error)\n\t\t\t\t}\n\t\t\t)\n\t\t\tconst response = await axios.get('http://localhost:3003/api/data', {\n\t\t\t\tparams: {\n\t\t\t\t\tauthorizationCode: authorizationCode,\n\t\t\t\t\tredirectUrl: 'http://localhost:3000/auntification',\n\t\t\t\t},\n\t\t\t})\n\t\t\tnavigate('/menu', {\n\t\t\t\tstate: response.data,\n\t\t\t})\n\t\t}\n\t\tif (authorizationCode) {\n\t\t\tfetch(authorizationCode)\n\t\t} else {\n\t\t\tnavigate('/error')\n\t\t}\n\t}, [navigate])\n\treturn <div></div>\n}\n\nexport default AuntifactionPageCallback\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEzB,KAAM,CAAAC,wBAAwB,CAAGA,CAAA,GAAM,CACtC,KAAM,CAAAC,QAAQ,CAAGL,WAAW,CAAC,CAAC,CAC9BD,SAAS,CAAC,IAAM,CACf,KAAM,CAAAO,iBAAiB,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,CACxE,MACD,CAAC,CAED,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAN,iBAAiB,EAAI,CACxCL,KAAK,CAACY,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC9BD,QAAQ,EAAIA,QAAQ,CACpBE,KAAK,EAAI,CACRC,OAAO,CAACD,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACpC,MAAO,CAAAE,OAAO,CAACC,MAAM,CAACH,KAAK,CAAC,CAC7B,CACD,CAAC,CACD,KAAM,CAAAF,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACU,GAAG,CAAC,gCAAgC,CAAE,CAClES,MAAM,CAAE,CACPd,iBAAiB,CAAEA,iBAAiB,CACpCe,WAAW,CAAE,qCACd,CACD,CAAC,CAAC,CACFhB,QAAQ,CAAC,OAAO,CAAE,CACjBiB,KAAK,CAAER,QAAQ,CAACS,IACjB,CAAC,CAAC,CACH,CAAC,CACD,GAAIjB,iBAAiB,CAAE,CACtBM,KAAK,CAACN,iBAAiB,CAAC,CACzB,CAAC,IAAM,CACND,QAAQ,CAAC,QAAQ,CAAC,CACnB,CACD,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CACd,mBAAOF,IAAA,SAAU,CAAC,CACnB,CAAC,CAED,cAAe,CAAAC,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}